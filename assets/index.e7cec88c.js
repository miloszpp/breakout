(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const t of r)if(t.type==="childList")for(const d of t.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function o(r){const t={};return r.integrity&&(t.integrity=r.integrity),r.referrerpolicy&&(t.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?t.credentials="include":r.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function l(r){if(r.ep)return;r.ep=!0;const t=o(r);fetch(r.href,t)}})();function f(){const e={leftPressed:!1,rightPressed:!1};return document.addEventListener("keydown",i=>{i.key==="Right"||i.key==="ArrowRight"?e.rightPressed=!0:(i.key==="Left"||i.key==="ArrowLeft")&&(e.leftPressed=!0)},!1),document.addEventListener("keyup",i=>{i.key==="Right"||i.key==="ArrowRight"?e.rightPressed=!1:(i.key==="Left"||i.key==="ArrowLeft")&&(e.leftPressed=!1)},!1),e}const n={canvasWidth:800,canvasHeight:600,brickRowCount:6,brickColumnCount:5,brickHeight:20,brickPadding:10,brickOffsetTop:30,brickOffsetLeft:30,ballSpeed:3,ballRadius:10,paddleSpeed:5,colors:["#00a878","#fe5e41","#f3c178"],get brickWidth(){return(this.canvasWidth-2*this.brickOffsetLeft)/this.brickColumnCount-this.brickPadding}};function u({ctx:e},i,o){e.beginPath(),e.arc(i.x,i.y,i.radius,0,Math.PI*2),e.fillStyle=o.colors[1],e.fill(),e.closePath()}function s({ctx:e},i,o){e.beginPath(),e.rect(i.x,o.canvasHeight-i.height,i.width,i.height),e.fillStyle=o.colors[2],e.fill(),e.closePath()}function h({ctx:e},i,o){for(let l=0;l<o.brickColumnCount;l++)for(let r=0;r<o.brickRowCount;r++)i.data[l][r].isDestroyed||(e.beginPath(),e.rect(i.data[l][r].x,i.data[l][r].y,o.brickWidth,o.brickHeight),e.fillStyle=o.colors[0],e.fill(),e.closePath())}function y({ctx:e},i){e.font="16px Arial",e.fillStyle=n.colors[1],e.fillText(`Score: ${i}`,8,20)}function b({ctx:e},i,o){i!=="InProgress"&&(e.font="48px Arial",e.fillStyle=o.colors[1],e.textAlign="center",e.fillText(i==="Fail"?"GAME OVER":"CONGRATULATIONS",o.canvasWidth/2,o.canvasHeight/2))}function a(e,i,o,l){const{ctx:r}=e;r.clearRect(0,0,o.canvasWidth,o.canvasHeight),u(e,i.ball,o),s(e,i.paddle,o),h(e,i.bricks,o),y(e,i.score),b(e,i.status,o),l()&&requestAnimationFrame(()=>a(e,i,o,l))}function k(e){const i={data:[]};for(let o=0;o<e.brickColumnCount;o++){const l=[];i.data.push(l);for(let r=0;r<e.brickRowCount;r++){const t=o*(e.brickWidth+e.brickPadding)+e.brickOffsetLeft,d=r*(e.brickHeight+e.brickPadding)+e.brickOffsetTop;l.push({x:t,y:d,isDestroyed:!1})}}return{bricks:i,ball:{x:e.canvasWidth*Math.random(),y:e.canvasHeight/3,radius:e.ballRadius,dx:e.ballSpeed,dy:e.ballSpeed},paddle:{x:(e.canvasWidth-e.canvasWidth/7)/2,width:e.canvasWidth/7,height:10,speed:e.paddleSpeed},score:0,status:"InProgress"}}function p(e,i){for(let o=0;o<i.brickColumnCount;o++)for(let l=0;l<i.brickRowCount;l++){const r=e.bricks.data[o][l];if(!r.isDestroyed&&e.ball.x>r.x&&e.ball.x<r.x+i.brickWidth&&e.ball.y>r.y&&e.ball.y<r.y+i.brickHeight)return r}}function v(e,i,o,l){const{ball:r,paddle:t}=e;(r.x+r.dx>o.canvasWidth-r.radius||r.x+r.dx<r.radius)&&(r.dx=-r.dx),r.y+r.dy<r.radius?r.dy=-r.dy:r.y+r.dy>o.canvasHeight-r.radius&&(r.x>t.x&&r.x<t.x+t.width?r.dy=-r.dy:(e.status="Fail",l()));const d=p(e,o);d!==void 0&&(r.dy=-r.dy,d.isDestroyed=!0,e.score++,e.score===o.brickColumnCount*o.brickRowCount&&(e.status="Win")),r.x+=r.dx,r.y+=r.dy,i.rightPressed&&t.x+t.width<=o.canvasWidth?t.x+=t.speed:i.leftPressed&&t.x>=0&&(t.x-=t.speed)}function c(e,i){if(e==null)throw new Error(i!=null?i:"assertDefined failed");return e}const m=()=>c(document.querySelector("#mainCanvas"),"Could not get canvas"),C=e=>c(e.getContext("2d"),"Could not get 2d context");function w(){const e=m(),i=C(e),o={canvas:e,ctx:i},l=f(),r=k(n);let t=!0,d;e.setAttribute("width",String(n.canvasWidth)),e.setAttribute("height",String(n.canvasHeight)),a(o,r,n,()=>t),d=setInterval(()=>v(r,l,n,()=>{t=!1,clearInterval(d)}),10)}w();
